<div class="relative w-full overflow-hidden " id="image-slider">
  <div class="flex transition-transform duration-500 ease-in-out" id="slider-container">
      <!-- Images will be dynamically inserted here -->
    </div>
    <div class="absolute  top-[20%]   left-4 ml-auto mr-auto lg:w-[500px] text-left font-bold ">
      <div class="text-[30px] lg:text-[70px] text-primary ml-10">Dwizzy Infra </div>
      <div class="lg:text-[70px] font-semibold text-white lg:-mt-3 ml-10">We Do Easy</div>
    </div>
  <div class="absolute inset-0 flex items-center justify-between ">
      <button id="prev-button" class="bg-white/50 p-2 rounded-full shadow-md hover:bg-white/75 transition-colors">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
      </button>
      <button id="next-button" class="bg-white/50 p-2 rounded-full shadow-md hover:bg-white/75 transition-colors">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
      </button>
  </div>
</div>

<script>
const images = [
  { src: '/SliderImages/1.jpg', alt: 'Mountain', title: 'DELHI-MEERUT RRTS' },
  { src: '/SliderImages/2.jpg', alt: 'River', title: 'Serene River Scene' },
  { src: '/SliderImages/3.jpg', alt: 'Forest', title: 'Lush Green Forest' },
  { src: '/SliderImages/4.jpg', alt: 'Waterfall', title: 'Cascading Waterfall' },
];

let currentIndex = 0;
const sliderContainer = document.getElementById('slider-container');
const prevButton = document.getElementById('prev-button');
const nextButton = document.getElementById('next-button');

function createImageElement(image:any) {
  const div = document.createElement('div');
  div.className = 'flex-shrink-0 w-full transition-opacity duration-500 ease-in-out';
  div.innerHTML = `
      <div class="relative">
          <img src="${image.src}" alt="${image.alt}" class="w-full  lg:h-[80vh]  h-64  object-cover  shadow-lg cursor-pointer ">
          <div class="absolute inset-0 flex  bg-black bg-opacity-40">
              <h2 class=" absolute text-white text-xl lg:text-[70px] lg:top-[45%] top-[50%]  ml-14 font-bold text-center lg:mt-[100px] ">${image.title}</h2>
          </div>
      </div>
  `;
  return div;
}

function updateSlider() {
  const totalImages = images.length;
  if (sliderContainer) {
    sliderContainer.innerHTML = '';
    
    for (let i = -1; i <= 1; i++) {
        const index = (currentIndex + i + totalImages) % totalImages;
        const imageElement = createImageElement(images[index]);
        sliderContainer.appendChild(imageElement);
    }
    
    sliderContainer.style.transform = 'translateX(-100%)';
  }
}

function slideImage(direction:any) {
  const totalImages = images.length;
  currentIndex = (currentIndex + direction + totalImages) % totalImages;
  
  const transitionDuration = 500; // match this with the CSS transition duration
  if (sliderContainer) {
    sliderContainer.style.transition = `transform ${transitionDuration}ms ease-in-out`;
  }
  if (sliderContainer) {
    sliderContainer.style.transform = direction > 0 ? 'translateX(-200%)' : 'translateX(0)';
  }
  
  setTimeout(() => {
      if (sliderContainer) {
        sliderContainer.style.transition = 'none';
      }
      updateSlider();
  }, transitionDuration);
}

if (prevButton) {
  prevButton.addEventListener('click', () => slideImage(-1));
}
if (nextButton) {
  nextButton.addEventListener('click', () => slideImage(1));
}

// Auto-switch images every 5 seconds
setInterval(() => slideImage(1), 5000);

// Initialize the slider
updateSlider();
</script>